<!-- frontend/cancel.html -->
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buchung storniert</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <div class="booking-info">
      <h2 class="text-warning" id="statusText">⚠️ Buchung storniert</h2>

      <div class="info-row"><b>Datum:</b> <span id="date">–</span></div>
      <div class="info-row"><b>Uhrzeit:</b> <span id="time">–</span></div>
      <div class="info-row"><b>Service:</b> <span id="service">–</span></div>

      <a href="/" class="btn btn-primary mt-3">Neue Buchung</a>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const p = new URLSearchParams(window.location.search);

      document.getElementById('date').textContent = p.get('date') || '–';
      document.getElementById('time').textContent = p.get('time') || '–';
      document.getElementById('service').textContent = p.get('service') || '–';

      const status = p.get('status');
      if (status === 'already_canceled') {
        document.getElementById('statusText').textContent = '⚠️ Buchung war bereits storniert';
      } else if (status === 'not_found') {
        document.getElementById('statusText').textContent = '❌ Buchung nicht gefunden';
      } else if (status === 'canceled') {
        document.getElementById('statusText').textContent = '✅ Buchung erfolgreich storniert';
      }
    });
  </script>
</body>
</html>
